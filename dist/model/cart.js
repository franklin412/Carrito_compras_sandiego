sap.ui.define(["sap/m/MessageBox","sap/m/MessageToast"],function(t,e){"use strict";return{addToCart:function(e,o,a,s,i){if(o.Product!==undefined){o=o.Product}switch(o.Status){case"D":t.show(e.getText("productStatusDiscontinuedMsg"),{icon:t.Icon.ERROR,titles:e.getText("productStatusDiscontinuedTitle"),actions:[t.Action.CLOSE]});break;case"O":t.show(e.getText("productStatusOutOfStockMsg"),{icon:t.Icon.QUESTION,title:e.getText("productStatusOutOfStockTitle"),actions:[t.Action.OK,t.Action.CANCEL],onClose:function(i){if(t.Action.OK===i){this._updateCartItem(e,o,a,s)}}.bind(this)});break;case"A":default:this._updateCartItem(e,o,a,s,i);break}},_updateCartItem:function(t,o,a,s,i){var c=Object.assign([],a.getData()["cartEntries"]);var n=c.find(t=>t.WarehouseCode===o.WarehouseCode&&t.ItemCode===o.ItemCode);if(!n){n=Object.assign({},o);n.Quantity=s;n.DatosCabeceraV2=i;n.ClaveLabor=[];n.ClaveLaborSelected="";n.CampoObjeto=[];n.CampoObjetoSelected="";n.CentroCostoSelected="";a.getProperty("/cartEntries").push(n)}else{n.Quantity+=s}a.refresh(true);e.show(t.getText("productMsgAddedToCart",[o.ItemCode]))}}});